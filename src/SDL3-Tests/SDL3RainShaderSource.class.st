"
I'm a shader adapted from https://www.shadertoy.com/view/ldfyzl
"
Class {
	#name : 'SDL3RainShaderSource',
	#superclass : 'SDL3GPURenderStateDemoShaderSource',
	#category : 'SDL3-Tests-Shaders',
	#package : 'SDL3-Tests',
	#tag : 'Shaders'
}

{ #category : 'accessing' }
SDL3RainShaderSource class >> hlslSource [
	<script: 'self generateEmbeddedSourcesFromHLSL'>

	^ '
Texture2D iChannel0 : register(t0, space2);
SamplerState iChannel0Sampler : register(s0, space2);

cbuffer Params : register(b0, space3)
{
    float iTime;
    float2 iResolution;
}

// static const constants
#define MAX_RADIUS 2
#define DOUBLE_HASH 0

static const float HASHSCALE1 = 0.1031;
static const float3 HASHSCALE3 = float3(0.1031, 0.1030, 0.0973);
static const float REF_X = 10;

// Hash functions
float hash12(float2 p)
{
    float3 p3 = frac(float3(p.xyx) * HASHSCALE1);
    p3 += dot(p3, p3.yzx + 19.19);
    return frac((p3.x + p3.y) * p3.z);
}

float2 hash22(float2 p)
{
    float3 p3 = frac(float3(p.xyx) * HASHSCALE3);
    p3 += dot(p3, p3.yzx + 19.19);
    return frac((p3.xx + p3.yz) * p3.zy);
}

struct PSInput
{
    float4 color : COLOR0;
    float2 uv : TEXCOORD0;
};

float4 main(PSInput input) : SV_Target
{
    float resolution = 10.0 * exp2(-3.0 * REF_X / iResolution.x);

    // Coordinate setup
    // fragCoord in GLSL is (uv * iResolution)
    // Formula: fragCoord.xy / iResolution.y * resolution;
    float2 uv = (input.uv * iResolution) / iResolution.y * resolution;
    float2 p0 = floor(uv);

    float2 circles = float2(0.0, 0.0);

    // Ripple accumulation loop
    for (int j = -MAX_RADIUS; j <= MAX_RADIUS; ++j)
    {
        for (int i = -MAX_RADIUS; i <= MAX_RADIUS; ++i)
        {
            float2 pi = p0 + float2(i, j);

            #if DOUBLE_HASH
            float2 hsh = hash22(pi);
            #else
            float2 hsh = pi;
            #endif
            
            float2 p = pi + hash22(hsh);

            float t = frac(0.3 * iTime + hash12(hsh));
            float2 v = p - uv;
            
            float d = length(v) - (float(MAX_RADIUS) + 1.0) * t;

            float h = 1e-3;
            float d1 = d - h;
            float d2 = d + h;
            
            float p1 = sin(31.0 * d1) * smoothstep(-0.6, -0.3, d1) * smoothstep(0.0, -0.3, d1);
            float p2 = sin(31.0 * d2) * smoothstep(-0.6, -0.3, d2) * smoothstep(0.0, -0.3, d2);
            
            circles += 0.5 * normalize(v) * ((p2 - p1) / (2.0 * h) * (1.0 - t) * (1.0 - t));
        }
    }
    
    circles /= float((MAX_RADIUS * 2 + 1) * (MAX_RADIUS * 2 + 1));

    float intensity = lerp(0.01, 0.15, smoothstep(0.1, 0.6, abs(frac(0.05 * iTime + 0.5) * 2.0 - 1.0)));
    
    // Reconstruct Normal Z
    // Added max(0, ...) to prevent NaN if dot product slightly exceeds 1.0 due to float precision
    float3 n = float3(circles, sqrt(max(0.0, 1.0 - dot(circles, circles))));
    
    // Color and Lighting
    float3 lightDir = normalize(float3(1.0, 0.7, 0.5));
    float specular = 5.0 * pow(clamp(dot(n, lightDir), 0.0, 1.0), 6.0);
    
    // Texture Sample with offset
    float2 texUV = uv / resolution - intensity * n.xy;
    float3 color = iChannel0.Sample(iChannel0Sampler, texUV).rgb * input.color + specular;

    return float4(color, 1.0);
}
'
]

{ #category : 'accessing' }
SDL3RainShaderSource class >> sourceCompiledAsDXIL [
	"This method was generated from #hlslSource"

	^ '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' base64Decoded
]

{ #category : 'accessing' }
SDL3RainShaderSource class >> sourceCompiledAsMSL [
	"This method was generated from #hlslSource"

	^ 'I2luY2x1ZGUgPG1ldGFsX3N0ZGxpYj4KI2luY2x1ZGUgPHNpbWQvc2ltZC5oPgoKdXNpbmcgbmFtZXNwYWNlIG1ldGFsOwoKc3RydWN0IHR5cGVfUGFyYW1zCnsKICAgIGZsb2F0IGlUaW1lOwogICAgcGFja2VkX2Zsb2F0MiBpUmVzb2x1dGlvbjsKfTsKCnN0cnVjdCBtYWluMF9vdXQKewogICAgZmxvYXQ0IG91dF92YXJfU1ZfVGFyZ2V0IFtbY29sb3IoMCldXTsKfTsKCnN0cnVjdCBtYWluMF9pbgp7CiAgICBmbG9hdDQgaW5fdmFyX0NPTE9SMCBbW3VzZXIobG9jbjApXV07CiAgICBmbG9hdDIgaW5fdmFyX1RFWENPT1JEMCBbW3VzZXIobG9jbjEpXV07Cn07CgpmcmFnbWVudCBtYWluMF9vdXQgbWFpbjAobWFpbjBfaW4gaW4gW1tzdGFnZV9pbl1dLCBjb25zdGFudCB0eXBlX1BhcmFtcyYgUGFyYW1zIFtbYnVmZmVyKDApXV0sIHRleHR1cmUyZDxmbG9hdD4gaUNoYW5uZWwwIFtbdGV4dHVyZSgwKV1dLCBzYW1wbGVyIGlDaGFubmVsMFNhbXBsZXIgW1tzYW1wbGVyKDApXV0pCnsKICAgIG1haW4wX291dCBvdXQgPSB7fTsKICAgIGZsb2F0IF83MiA9IDEwLjAgKiBleHAyKCgtMzAuMCkgLyBQYXJhbXMuaVJlc29sdXRpb25bMF0pOwogICAgZmxvYXQyIF83OSA9ICgoaW4uaW5fdmFyX1RFWENPT1JEMCAqIGZsb2F0MihQYXJhbXMuaVJlc29sdXRpb24pKSAvIGZsb2F0MihQYXJhbXMuaVJlc29sdXRpb25bMV0pKSAqIF83MjsKICAgIGZsb2F0MiBfODAgPSBmbG9vcihfNzkpOwogICAgZmxvYXQyIF84MjsKICAgIGludCBfODU7CiAgICBfODIgPSBmbG9hdDIoMC4wKTsKICAgIF84NSA9IC0yOwogICAgZmxvYXQyIF84MzsKICAgIGZvciAoOyBfODUgPD0gMjsgXzgyID0gXzgzLCBfODUrKykKICAgIHsKICAgICAgICBfODMgPSBfODI7CiAgICAgICAgZm9yIChpbnQgXzkzID0gLTI7IF85MyA8PSAyOyApCiAgICAgICAgewogICAgICAgICAgICBmbG9hdDIgXzEwMCA9IF84MCArIGZsb2F0MihmbG9hdChfOTMpLCBmbG9hdChfODUpKTsKICAgICAgICAgICAgZmxvYXQzIF8xMDEgPSBfMTAwLnh5eDsKICAgICAgICAgICAgZmxvYXQzIF8xMDMgPSBmcmFjdChfMTAxICogZmxvYXQzKDAuMTAzMTAwMDAxODExOTgxMjAxMTcxODc1LCAwLjEwMzAwMDAwMDExOTIwOTI4OTU1MDc4MTI1LCAwLjA5NzMwMDAwMDQ4ODc1ODA4NzE1ODIwMzEyNSkpOwogICAgICAgICAgICBmbG9hdDMgXzEwOCA9IF8xMDMgKyBmbG9hdDMoZG90KF8xMDMsIF8xMDMueXp4ICsgZmxvYXQzKDE5LjE5MDAwMDUzNDA1NzYxNzE4NzUpKSk7CiAgICAgICAgICAgIGZsb2F0MyBfMTIwID0gZnJhY3QoXzEwMSAqIDAuMTAzMTAwMDAxODExOTgxMjAxMTcxODc1KTsKICAgICAgICAgICAgZmxvYXQzIF8xMjUgPSBfMTIwICsgZmxvYXQzKGRvdChfMTIwLCBfMTIwLnl6eCArIGZsb2F0MygxOS4xOTAwMDA1MzQwNTc2MTcxODc1KSkpOwogICAgICAgICAgICBmbG9hdCBfMTMzID0gZnJhY3QoKDAuMzAwMDAwMDExOTIwOTI4OTU1MDc4MTI1ICogUGFyYW1zLmlUaW1lKSArIGZyYWN0KChfMTI1LnggKyBfMTI1LnkpICogXzEyNS56KSk7CiAgICAgICAgICAgIGZsb2F0MiBfMTM0ID0gKF8xMDAgKyBmcmFjdCgoXzEwOC54eCArIF8xMDgueXopICogXzEwOC56eSkpIC0gXzc5OwogICAgICAgICAgICBmbG9hdCBfMTM3ID0gbGVuZ3RoKF8xMzQpIC0gKDMuMCAqIF8xMzMpOwogICAgICAgICAgICBmbG9hdCBfMTM4ID0gXzEzNyAtIDAuMDAxMDAwMDAwMDQ3NDk3NDUxMzA1Mzg5NDA0Mjk2ODc1OwogICAgICAgICAgICBmbG9hdCBfMTM5ID0gXzEzNyArIDAuMDAxMDAwMDAwMDQ3NDk3NDUxMzA1Mzg5NDA0Mjk2ODc1OwogICAgICAgICAgICBmbG9hdCBfMTU2ID0gMS4wIC0gXzEzMzsKICAgICAgICAgICAgXzgzICs9ICgoZmFzdDo6bm9ybWFsaXplKF8xMzQpICogMC41KSAqICgoKCgoKHNpbigzMS4wICogXzEzOSkgKiBzbW9vdGhzdGVwKC0wLjYwMDAwMDAyMzg0MTg1NzkxMDE1NjI1LCAtMC4zMDAwMDAwMTE5MjA5Mjg5NTUwNzgxMjUsIF8xMzkpKSAqIHNtb290aHN0ZXAoMC4wLCAtMC4zMDAwMDAwMTE5MjA5Mjg5NTUwNzgxMjUsIF8xMzkpKSAtICgoc2luKDMxLjAgKiBfMTM4KSAqIHNtb290aHN0ZXAoLTAuNjAwMDAwMDIzODQxODU3OTEwMTU2MjUsIC0wLjMwMDAwMDAxMTkyMDkyODk1NTA3ODEyNSwgXzEzOCkpICogc21vb3Roc3RlcCgwLjAsIC0wLjMwMDAwMDAxMTkyMDkyODk1NTA3ODEyNSwgXzEzOCkpKSAqIDQ5OS45OTk5Njk0ODI0MjE4NzUpICogXzE1NikgKiBfMTU2KSk7CiAgICAgICAgICAgIF85MysrOwogICAgICAgICAgICBjb250aW51ZTsKICAgICAgICB9CiAgICB9CiAgICBmbG9hdDIgXzE2MCA9IF84MiAqIGZsb2F0MigwLjAzOTk5OTk5OTEwNTkzMDMyODM2OTE0MDYyNSk7CiAgICBmbG9hdDMgXzE3NyA9IGZsb2F0MyhfMTYwLCBzcXJ0KHByZWNpc2U6Om1heCgwLjAsIDEuMCAtIGRvdChfMTYwLCBfMTYwKSkpKTsKICAgIG91dC5vdXRfdmFyX1NWX1RhcmdldCA9IGZsb2F0NCgoaUNoYW5uZWwwLnNhbXBsZShpQ2hhbm5lbDBTYW1wbGVyLCAoKF83OSAvIGZsb2F0MihfNzIpKSAtIChfMTc3Lnh5ICogbWl4KDAuMDA5OTk5OTk5Nzc2NDgyNTgyMDkyMjg1MTU2MjUsIDAuMTUwMDAwMDA1OTYwNDY0NDc3NTM5MDYyNSwgc21vb3Roc3RlcCgwLjEwMDAwMDAwMTQ5MDExNjExOTM4NDc2NTYyNSwgMC42MDAwMDAwMjM4NDE4NTc5MTAxNTYyNSwgYWJzKChmcmFjdCgoMC4wNTAwMDAwMDA3NDUwNTgwNTk2OTIzODI4MTI1ICogUGFyYW1zLmlUaW1lKSArIDAuNSkgKiAyLjApIC0gMS4wKSkpKSkpLnh5eiAqIGZsb2F0Myhpbi5pbl92YXJfQ09MT1IwLnh5eikpICsgZmxvYXQzKDUuMCAqIHBvd3IoZmFzdDo6Y2xhbXAoZG90KF8xNzcsIGZhc3Q6Om5vcm1hbGl6ZShmbG9hdDMoMS4wLCAwLjY5OTk5OTk4ODA3OTA3MTA0NDkyMTg3NSwgMC41KSkpLCAwLjAsIDEuMCksIDYuMCkpLCAxLjApOwogICAgcmV0dXJuIG91dDsKfQoK' base64Decoded
]

{ #category : 'accessing' }
SDL3RainShaderSource class >> sourceCompiledAsSPV [
	"This method was generated from #hlslSource"

	^ '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' base64Decoded
]
