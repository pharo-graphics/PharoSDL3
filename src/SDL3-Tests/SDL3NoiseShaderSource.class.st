"
I am a post-processing fragment shader.
"
Class {
	#name : 'SDL3NoiseShaderSource',
	#superclass : 'SDL3GPURenderStateDemoShaderSource',
	#category : 'SDL3-Tests-Shaders',
	#package : 'SDL3-Tests',
	#tag : 'Shaders'
}

{ #category : 'accessing' }
SDL3NoiseShaderSource class >> hlslSource [
	<script: 'self generateEmbeddedSourcesFromHLSL'>

	^ '
Texture2D texture : register(t0, space2);
SamplerState textureSampler : register(s0, space2);

cbuffer Params : register(b0, space3)
{
    float Time;        
    float2 Resolution;
}

static const float Strength = 5.0;

static float rand(float2 uv)
{
    return frac(sin(dot(uv, float2(12.9898, 78.233))) * 43758.5453);
}

struct PSInput
{
    float4 color : COLOR0;
    float2 uv : TEXCOORD0;
};

float4 main(PSInput input) : SV_Target
{
    float2 texelSize = 1.0 / Resolution;
    
    // Generate noise
    float noise = rand(input.uv * Resolution + Time);
    
    // Distort UVs
    float offsetMagnitude = (noise * 2.0 - 1.0);
    float2 offset = float2(offsetMagnitude, offsetMagnitude) * Strength * texelSize;
    
    // Sample texture with offset
    return texture.Sample(textureSampler, input.uv + offset) * input.color;
}
'
]

{ #category : 'accessing' }
SDL3NoiseShaderSource class >> sourceCompiledAsDXIL [
	"This method was generated from #hlslSource"

	^ 'RFhCQzW4VcGo8mzEqKzfnrzZyWEBAAAA1BEAAAcAAAA8AAAATAAAAKgAAADkAAAA8AEAAHQJAACQCQAAU0ZJMAgAAAAAAAAAAAAAAElTRzFUAAAAAgAAAAgAAAAAAAAASAAAAAAAAAAAAAAAAwAAAAAAAAAPDwAAAAAAAAAAAABIAAAAAQAAAAAAAAADAAAAAQAAAAMDAAAAAAAAVEVYQ09PUkQAAAAAT1NHMTQAAAABAAAACAAAAAAAAAAoAAAAAAAAAEAAAAADAAAAAAAAAA8AAAAAAAAAU1ZfVGFyZ2V0AAAAUFNWMAQBAAA0AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD/////AAAAAAIBAAIBAAAAAAAAAAAAAAAAAAAAEwAAAAMAAAAYAAAAAgAAAAMAAAAAAAAAAAAAAA0AAAAAAAAAAQAAAAIAAAAAAAAAAAAAAA4AAAAAAAAAAwAAAAIAAAAAAAAAAAAAAAIAAAAAAAAAGAAAAABURVhDT09SRABURVhDT09SRABtYWluAAIAAAAAAAAAAQAAABAAAAABAAAAAAAAAAEARAADAgAACgAAAAEAAAABAUIAAwIAAAAAAAAAAAAAAQBEEAMAAAABAAAAAgAAAAQAAAAIAAAADwAAAA8AAAAAAAAAAAAAAFNUQVR8BwAAYAAAAN8BAABEWElMAAEAABAAAABkBwAAQkPA3iEMAADWAQAAC4IgAAIAAAATAAAAB4EjkUHIBEkGEDI5kgGEDCUFCBkeBItigBhFAkKSC0LEEDIUOAgYSwoyYohIkBQgQ0aIpQAZMkLkSA6QESPEUEFRgYzhg+WKBDFGBlEYAAAIAAAAG4zg/////wdAAqgNhPD/////AyBtMIb/////HwAJqABJGAAAAwAAABOCYEIgTAgGAAAAAIkgAABTAAAAMiKICSBkhQQTI6SEBBMj44ShkBQSTIyMC4TETBCQwQhACQAKZgDmCMBgjgApxkAQREGQUQyAIIhiIOSm4fIn7CEkfyWklZj84rZRMQzDQFBxz3D5E/YQkh8CzbAQKFgKoxAMMwzDQBDEQE0ZBmKgpxgDMQzDQNFRw+VP2ENIPrdRxUpMfnHbiBiGYSjERDAEUXMEQTEYoiAIi66BgGEEYpipDcaBHcJhHubBDWihHPCBHupBHspBDkiBD+yhHMaBHt5BHvjAHNjhHcKBHtgADOjAD8DAD/RAD9ohHeBhHn6BHvIBHsoBBcRMYjAO7BAO8zAPbkAL5YAP9FAP8lAOckAKfGAP5TAO9PAO8sAH5sAO7xAO9MAGYEAHfgAGfoAEbSNuGEEYbpmwh/hTIAIYCQmDR99N0hRRwuSzAPMsRMROwESggKAwEQgAAAATFHLAh3RghzZoh3loA3LAhw2vUA5t0A56UA5tAA96MAdyoAdzIAdtkA5xoAdzIAdtkA54oAdzIAdtkA5xYAd6MAdy0AbpMAdyoAdzIAdtkA52QAd6YAd00AbmEAd2oAdzIAdtYA5zIAd6MAdy0AbmYAd0oAd2QAdt4A54oAdxYAd6MAdyoAd2QAdDngAIAAAAAAAAAAAAhjwGEAABAAAAAAAAAAx5ECAABAAAAAAAAAAY8jRAAAwAAAAAAAAAMOR5gAAIAAAAAAAAAGDIEwEBEAAAAAAAAADAkIcCAmAAAAAAAAAAgCHPBQTAAAAAAAAAAABZIAAAABIAAAAyHpgYGRFMkIwJJkfGBEMiSmAEoBiKoCTKoDDKoRBKozwKpayoKIkRgCIohAIhqwaomwGgbwaAwBkAEmcAaBwLMYhAIJDnAQB5GAAAmgAAABoDTJBGAhPEMSDDG0OBk0uzC6MrSwGJccFxgXGhucmBAUEhs4kRu5kxq7FJ2RAEEwQCmSAQyQZhIDYIBEEBbm6CQCgbhgMhJgjdRuSLrgyPrk6ubIJALBMEgtkgEM2GhFAWhhgYwtkQPBMEMOi40OXBlX1BhcmFtc1NEIhmgkA4GxAikiZioIANQTVBEAOPDl0ZHl2dXNlUWBscW5ncBoS4MIYYCGBDkG0gIMDSJggfxwUqTC6sbe6LKq2tbIJAPBMES9uAIN1EeE3zMYIKkwtrm/uSKpt7Y6ujS3tzmyAQ0ASBiDYoSBhMYuA1zTcGzIaBAgMy2DAQXBlMEARgA7BhINAADTYEabBhGM5ADSYIY/BtCNiARFtYmhsRqiKsoacnKaIJQlFNEAprQ0BMEIprglBgEwRC2iBMdbBhId4ADuJADuZgoAMiDuxgQzBsEKZpwzK8ARzEAR7MwTAHQxzkwQbhDvSAyZTVF1WY3FkZ3QShyDYsBB/AQR/IQRwMdEDEgR1sCPxgw7AHfwBsKM7ADUBhA2iYsb2F0c1NEIiJRZrbHN3cBIGgaMylnX2xkdGYSzv7mqMjQleG9+X2Jte2QRGFUSCFUjAF5BTEABWGKmxsdm0uaWRlbnRTgqAKGZ6LXZncXNqb25SAaEKG52IXxmZXJjclKOqQ4bnMoYWRlck1vZGVsU0JkDJkeC5yZXNvdXJjZXNTAq0SGZ4LXR5cWZCb2xtdGF3am9vcFKEM1KAOGZ6LXVrZXRLZFF0YXdmUgA3qkOG5lLnRyeVBvaW50c1NCUChCxmey9hbnRtdmdzclAAVAAB5GAAATAAAADMIgBzE4RxmFAE9iEM4hMOMQoAHeXgHc5hxDOYAD+0QDvSADjMMQh7CwR3OoRxmMAU9iEM4hIMbzAM9yEM9jAM9zHiMdHAHewgHeUiHcHAHenADdniHcCCHGcwRDuyQDuEwD24wD+PwDvBQDjMQxB3eIRzYIR3CYR5mMIk7vIM70EM5tAM8vIM8hAM7zPAUdmAHe2gHN2iHcmgHN4CHcJCHcGAHdigHdvgFdniHd4CHXwiHcRiHcpiHeZiBLO7wDu7gDvXADuwwA2LIoRzkoRzMoRzkoRzcYRzKIRzEgR3KYQbWkEM5yEM5mEM5yEM5uMM4lEM4iAM7lMMvvIM8/II71AM7sMOMyCEHfHADchCHc3ADewgHeWCHcMiHd6gHepiBPOSAD25AD+XQDvAAAABxIAAAHgAAAGawDZfvPL4QUEVBRKUDDCVhAALmF7dtB9Jw+c7jCxEBTEQINMNCWIEzXL7z+IMz2X5x2xYwDZfvPP7iAIPYPNTkF7dtA9Bw+c7jSwDzLIRf3LYJVMPlO48vTU5EoNT0UJNf3LYRPMPlO49PNUCE+cVtGwDBAEgDAAAAAABIQVNIFAAAAAAAAACgKM1N50bLy7ChYT1twJPgRFhJTDwIAABgAAAADwIAAERYSUwAAQAAEAAAACQIAABCQ8DeIQwAAAYCAAALgiAAAgAAABMAAAAHgSORQcgESQYQMjmSAYQMJQUIGR4Ei2KAGEUCQpILQsQQMhQ4CBhLCjJiiEiQFCBDRoilABkyQuRIDpARI8RQQVGBjOGD5YoEMUYGURgAAAgAAAAbjOD/////B0ACqA2E8P////8DIG0whv////8fAAmoAEkYAAADAAAAE4JgQiBMCAYAAAAAiSAAAFMAAAAyIogJIGSFBBMjpIQEEyPjhKGQFBJMjIwLhMRMEJDBCEAJAApmAOYIwGCOACnGQBBEQZBRDIAgiGIg5Kbh8ifsISR/JaSVmPzitlExDMNAUHHPcPkT9hCSHwLNsBAoWAqjEAwzDMNAEMRATRkGYqCnGAMxDMNA0VHD5U/YQ0g+t1HFSkx+cduIGIZhKMREMARRcwRBMRiiIAiLroGAYQRimKkNxoEdwmEe5sENaKEc8IEe6kEeykEOSIEP7KEcxoEe3kEe+MAc2OEdwoEe2AAM6MAPwMAP9EAP2iEd4GEefoEe8gEeygEFxExiMA7sEA7zMA9uQAvlgA/0UA/yUA5yQAp8YA/lMA708A7ywAfmwA7vEA70wAZgQAd+AAZ+gARtI24YQRhumbCH+FMgAhgJCYNH303SFFHC5LMA8yxExE7ARKCAoDARCAAAABMUcsCHdGCHNmiHeWgDcsCHDa9QDm3QDnpQDm0AD3owB3KgB3MgB22QDnGgB3MgB22QDnigB3MgB22QDnFgB3owB3LQBukwB3KgB3MgB22QDnZAB3pgB3TQBuYQB3agB3MgB21gDnMgB3owB3LQBuZgB3SgB3ZAB23gDnigB3FgB3owB3KgB3ZAB0OeAAAAAAAAAAAAAACGPAYQAAEAAAAAAAAADHkQIAAEAAAAAAAAABjyNEAADAAAAAAAAAAw5HmAAAgAAAAAAAAAYMgTAQEQAAAAAAAAAMCQhwICYAAAAAAAAACAIc8FBMAAAAAAAAAAAFkgAAAADwAAADIemBQZEUyQjAkmR8YEQyJKYASgIIqhCEqiDAqjPKgoiRGAIiiEAqFuBoDAGQASZwBoHAsxiEAgkOcBAHkYAABhAAAAGgNMkEYCE8QxIMMbQ4GTS7MLoytLAYlxwXGBcaG5yYEBQSGziRG7mTGrsUnZEAQTBAKZIBDJBmEgJgiEskEYDApwcxMEYtkwIAkxQegsAhMEgpkgEM0GgXA2JMTCNMTQEM+GAJoggME1QSCcCQLxbEAIiZmIgQI2BNUEQQywDQhxMQ0xEMCGANtARICVTRDGINsQbBMEASDRFpbmRoSqCGvo6UmKaIJQRBOEQtoQEBOEYpogFNQEgYA2CFMZbFiIDwzCQAzGYCADIgzMYEMwbBCmacMyfGAQBmgwBsMYDGGQBhuEM1ADJlNWX1RhcmdldBOEotqwEGwABm0gBmEwkAERBmawIXCDDcMavAGwoeg8ONCAKmxsdm0uaWRlbnRTgqAKGZ6LXZncXNqb25SAaEKG52IXxmZXJjclMOqQ4bnMoYWRlck1vZGVsU0JkjJkeC5yZXNvdXJjZXNTgqwOGZ6LXVrZXRLZFF0YXdmUYKtDhudS5kYnlwf1luZGNzclgAMAAHkYAABMAAAAMwiAHMThHGYUAT2IQziEw4xCgAd5eAdzmHEM5gAP7RAO9IAOMwxCHsLBHc6hHGYwBT2IQziEgxvMAz3IQz2MAz3MeIx0cAd7CAd5SIdwcAd6cAN2eIdwIIcZzBEO7JAO4TAPbjAP4/AO8FAOMxDEHd4hHNghHcJhHmYwiTu8gzvQQzm0Azy8gzyEAzvM8BR2YAd7aAc3aIdyaAc3gIdwkIdwYAd2KAd2+AV2eId3gIdfCIdxGIdymId5mIEs7vAO7uAO9cAO7DADYsihHOShHMyhHOShHNxhHMohHMSBHcphBtaQQznIQzmYQznIQzm4wziUQziIAzuUwy+8gzz8gjvUAzuww4zIIQd8cANyEIdzcAN7CAd5YIdwyId3qAd6mIE85IAPbkAP5dAO8AAAAHEgAAAeAAAAZrANl+88vhBQRUFEpQMMJWEAAuYXt20H0nD5zuMLEQFMRAg0w0JYgTNcvvP4gzPZfnHbFjANl+88/uIAg9g81OQXt20D0HD5zuNLAPMshF/ctglUw+U7jy9NTkSg1PRQk1/cthE8w+U7j081QIT5xW0bAMEASAMAYSAAAGoAAAATBEEsEAAAABIAAABkjQBQUQJlQEThFUtpFNsMQCGUQsmVHQ1jBCAIgio4jBGAIAjKYDBGwNJ7LY/BGAGr93gaBmMEeVz/NBiMEYAgCOLfDAAAAAAjBgkAgmBwmUGykQEZTCMGCQCCYHCdgSKVQRlQIwYJAIJgcKHBwpmBGVQjBgkAgmBgvIGDBmfgPSMGCQCCYGDAwZMGaGBBIwYJAIJgYMQBlAZpAAbRiEECgCAYGHIQqYEaYNKIQQKAIBgYcyCtwRqEwTRikAAgCAYGHUxswAYZNWJwACAIBhQcREcbjCYEwWiCIJiQyMeERD6jCQVgQwAfGwT4jBgkAAiCQZQHnhBQ1YiBAYAgGDx7AAaBBZh8RgwMAATB4OmDMQgs2ORjQQcfyxr6mNbQxwZBPiYQ8jEBg48JGHxGDB4ABMGgOYU26Dgh8LxQCIU08EYTAmA0QQhGEwZhNIEYjOjkY0QnHyM6+RjRyWfEIAFAEAyQWIADVVCFUCBGDBIABMEAiQU4UAVVwINhxCABQBAMkFiAA1VQBVAQRgwSAATBAIkFOFAFVbiDAAEAAAAAAA=='
]

{ #category : 'accessing' }
SDL3NoiseShaderSource class >> sourceCompiledAsMSL [
	"This method was generated from #hlslSource"

	^ 'I2luY2x1ZGUgPG1ldGFsX3N0ZGxpYj4KI2luY2x1ZGUgPHNpbWQvc2ltZC5oPgoKdXNpbmcgbmFtZXNwYWNlIG1ldGFsOwoKc3RydWN0IHR5cGVfUGFyYW1zCnsKICAgIGZsb2F0IFRpbWU7CiAgICBwYWNrZWRfZmxvYXQyIFJlc29sdXRpb247Cn07CgpzdHJ1Y3QgbWFpbjBfb3V0CnsKICAgIGZsb2F0NCBvdXRfdmFyX1NWX1RhcmdldCBbW2NvbG9yKDApXV07Cn07CgpzdHJ1Y3QgbWFpbjBfaW4KewogICAgZmxvYXQ0IGluX3Zhcl9DT0xPUjAgW1t1c2VyKGxvY24wKV1dOwogICAgZmxvYXQyIGluX3Zhcl9URVhDT09SRDAgW1t1c2VyKGxvY24xKV1dOwp9OwoKZnJhZ21lbnQgbWFpbjBfb3V0IG1haW4wKG1haW4wX2luIGluIFtbc3RhZ2VfaW5dXSwgY29uc3RhbnQgdHlwZV9QYXJhbXMmIFBhcmFtcyBbW2J1ZmZlcigwKV1dLCB0ZXh0dXJlMmQ8ZmxvYXQ+IF90ZXh0dXJlIFtbdGV4dHVyZSgwKV1dLCBzYW1wbGVyIHRleHR1cmVTYW1wbGVyIFtbc2FtcGxlcigwKV1dKQp7CiAgICBtYWluMF9vdXQgb3V0ID0ge307CiAgICBvdXQub3V0X3Zhcl9TVl9UYXJnZXQgPSBfdGV4dHVyZS5zYW1wbGUodGV4dHVyZVNhbXBsZXIsIChpbi5pbl92YXJfVEVYQ09PUkQwICsgKChmbG9hdDIoKGZyYWN0KHNpbihkb3QoKGluLmluX3Zhcl9URVhDT09SRDAgKiBmbG9hdDIoUGFyYW1zLlJlc29sdXRpb24pKSArIGZsb2F0MihQYXJhbXMuVGltZSksIGZsb2F0MigxMi45ODk4MDA0NTMxODYwMzUxNTYyNSwgNzguMjMzMDAxNzA4OTg0Mzc1KSkpICogNDM3NTguNTQ2ODc1KSAqIDIuMCkgLSAxLjApICogNS4wKSAqIChmbG9hdDIoMS4wKSAvIGZsb2F0MihQYXJhbXMuUmVzb2x1dGlvbikpKSkpICogaW4uaW5fdmFyX0NPTE9SMDsKICAgIHJldHVybiBvdXQ7Cn0KCg=='
]

{ #category : 'accessing' }
SDL3NoiseShaderSource class >> sourceCompiledAsSPV [
	"This method was generated from #hlslSource"

	^ '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'
]
